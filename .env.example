# Compound V2 Audit Environment Configuration
# Copy this file to .env and update with your actual values

# ===== RPC ENDPOINTS =====
# Get your API keys from:
# - Alchemy: https://www.alchemy.com/
# - Infura: https://infura.io/
# - QuickNode: https://www.quicknode.com/

# Mainnet RPC (required for fork testing)
ETH_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY

# Alternative RPC providers (optional)
# ETH_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_API_KEY
# ETH_RPC_URL=https://YOUR_QUICKNODE_ENDPOINT.quiknode.pro/YOUR_API_KEY/

# Multi-chain support (optional)
POLYGON_RPC_URL=https://polygon-mainnet.alchemyapi.io/v2/YOUR_ALCHEMY_API_KEY
ARBITRUM_RPC_URL=https://arb-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
OPTIMISM_RPC_URL=https://opt-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY

# ===== DEPLOYMENT CONFIGURATION =====
# WARNING: Use test private keys only! Never use real keys!
# This is the default Anvil test key - safe for testing
PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

# Optional: Generate new test key with `cast wallet new`
# PRIVATE_KEY=0x...

# ===== API KEYS =====
# For contract verification (optional)
ETHERSCAN_API_KEY=YOUR_ETHERSCAN_API_KEY_HERE
POLYGONSCAN_API_KEY=YOUR_POLYGONSCAN_API_KEY_HERE
ARBISCAN_API_KEY=YOUR_ARBISCAN_API_KEY_HERE

# ===== FORK CONFIGURATION =====
# Block number to fork from (before major Compound issues)
FORK_BLOCK_NUMBER=18500000

# Maximum gas limit for complex transactions
MAX_GAS_LIMIT=30000000

# ===== SECURITY SETTINGS =====
# Enable safety checks to prevent mainnet operations
ENABLE_SAFETY_CHECKS=true

# Maximum slippage for DEX operations (in bps)
MAX_SLIPPAGE=500

# Flash loan fee tolerance (in bps)
FLASH_LOAN_FEE_TOLERANCE=50

# ===== TEST CONFIGURATION =====
# Initial funding for test accounts (in wei)
TEST_ACCOUNT_FUNDING=100000000000000000000  # 100 ETH

# Token amounts for testing (adjust decimals accordingly)
TEST_USDC_AMOUNT=100000000000      # 100k USDC (6 decimals)
TEST_DAI_AMOUNT=100000000000000000000000   # 100k DAI (18 decimals)
TEST_COMP_AMOUNT=1000000000000000000000    # 1k COMP (18 decimals)

# ===== LOGGING CONFIGURATION =====
# Enable verbose logging for debugging
VERBOSE_LOGGING=true

# Generate detailed gas reports
GENERATE_GAS_REPORTS=true

# Save audit logs to files
SAVE_AUDIT_LOGS=true

# Log file path
AUDIT_LOG_PATH=./audit-reports/logs

# ===== ADVANCED SETTINGS =====
# Number of fuzz runs for testing
FUZZ_RUNS=1000

# Invariant test configuration
INVARIANT_RUNS=256
INVARIANT_DEPTH=15

# Transaction pool settings
MEMPOOL_SIZE=1000

# EVM settings
EVM_VERSION=london

# Optimizer settings
OPTIMIZER_ENABLED=true
OPTIMIZER_RUNS=200

# ===== MONITORING CONFIGURATION =====
# Price deviation alert threshold (in bps)
PRICE_DEVIATION_THRESHOLD=1000  # 10%

# Large transaction alert threshold (in USD)
LARGE_TX_THRESHOLD=1000000     # $1M

# Liquidation health factor threshold
LIQUIDATION_THRESHOLD=1100000000000000000  # 1.1 (18 decimals)

# ===== DEVELOPMENT FLAGS =====
# Skip time-consuming tests during development
SKIP_SLOW_TESTS=false

# Enable experimental features
EXPERIMENTAL_FEATURES=false

# Mock external calls for faster testing
MOCK_EXTERNAL_CALLS=false

# ===== REPORTING CONFIGURATION =====
# Audit report format (markdown, html, json)
REPORT_FORMAT=markdown

# Include gas analysis in reports
INCLUDE_GAS_ANALYSIS=true

# Include coverage metrics
INCLUDE_COVERAGE=true

# Report output directory
REPORT_OUTPUT_DIR=./audit-reports

# ===== NETWORK-SPECIFIC SETTINGS =====
# Mainnet settings
MAINNET_BLOCK_TIME=12
MAINNET_GAS_PRICE=20000000000  # 20 gwei

# L2 settings
POLYGON_BLOCK_TIME=2
ARBITRUM_BLOCK_TIME=1

# ===== SECURITY RESEARCH SETTINGS =====
# Maximum attack simulation value (safety limit)
MAX_ATTACK_VALUE=10000000000000000000000  # 10k ETH

# Enable attack pattern logging
LOG_ATTACK_PATTERNS=true

# Research data retention period (days)
DATA_RETENTION_DAYS=30

# ===== EXAMPLE VALUES =====
# These are example configurations - customize for your needs

# Example: High-frequency testing
# FUZZ_RUNS=10000
# INVARIANT_RUNS=1000

# Example: Quick development testing  
# SKIP_SLOW_TESTS=true
# FUZZ_RUNS=100

# Example: Production audit settings
# VERBOSE_LOGGING=false
# FUZZ_RUNS=5000
# GENERATE_GAS_REPORTS=true

# ===== NOTES =====
# 1. Never commit real private keys or API keys to version control
# 2. Use environment-specific .env files for different setups
# 3. Regularly rotate API keys for security
# 4. Monitor RPC usage to avoid rate limits
# 5. Keep this file updated with new configuration options